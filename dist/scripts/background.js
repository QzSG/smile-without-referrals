"use strict";chrome.runtime.onInstalled.addListener(function(e){console.log("previousVersion",e.previousVersion)});var regex=/(?:www\.)?ama?zo?n\.(?:com|ca|co\.uk|co\.jp|de|fr)\/(?:exec\/obidos\/ASIN\/|o\/|gp\/product\/|(?:(?:[^"\'\/]*)\/)?dp\/|)(B[0-9]{2}[0-9A-Z]{7}|[0-9]{9}(X|[0-9]))(?:(?:\/|\?|\#)(?:[^"\'\s]*))?/i;chrome.webRequest.onBeforeRequest.addListener(function(e){var o=e.url,r="sanitised=true",t="pldnSite=1";if(regex.test(o)){if(null!=o.match(t))return console.log("Not login"),chrome.notifications.create("User is not login",{type:"basic",iconUrl:"images/icon-128.png",title:"You are not login to Amazon",message:"You will be redirected to Amazon Smile after login."}),{redirectUrl:"https://www.amazon.com/dp/"+regex.exec(o)[1]};if(null==o.match(r))return{redirectUrl:"https://smile.amazon.com/dp/"+regex.exec(o)[1]+"?"+r}}},{urls:["<all_urls>"],types:["main_frame"]},["blocking"]),console.log("Smile without Referrals! Event Page for Browser Action");
//# sourceMappingURL=background.js.map
